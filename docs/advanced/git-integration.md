# Git é›†æˆ

ClaudeCode ä¸ Git æ·±åº¦é›†æˆï¼Œå¯ä»¥è‡ªåŠ¨åŒ–å¸¸è§çš„ Git å·¥ä½œæµç¨‹ï¼Œæé«˜ç‰ˆæœ¬æ§åˆ¶æ•ˆç‡ã€‚

## Git åŸºæœ¬æ“ä½œ

### æŸ¥çœ‹çŠ¶æ€

```bash
> æŸ¥çœ‹ Git çŠ¶æ€
```

ClaudeCode ä¼šæ‰§è¡Œ `git status` å¹¶åˆ†æè¾“å‡ºã€‚

### æŸ¥çœ‹æ›´æ”¹

```bash
> æŸ¥çœ‹æˆ‘åšäº†å“ªäº›æ›´æ”¹
```

ClaudeCode ä¼šæ‰§è¡Œ `git diff` å¹¶è§£é‡Šæ›´æ”¹å†…å®¹ã€‚

### æŸ¥çœ‹å†å²

```bash
> æŸ¥çœ‹æœ€è¿‘çš„æäº¤å†å²
```

ClaudeCode ä¼šå±•ç¤ºæäº¤è®°å½•å’Œè¶‹åŠ¿ã€‚

## æ™ºèƒ½æäº¤

### è‡ªåŠ¨åˆ†æå¹¶æäº¤

```bash
> åˆ†ææ›´æ”¹å¹¶åˆ›å»ºæäº¤
```

ClaudeCode ä¼šï¼š
1. è¿è¡Œ `git status` æŸ¥çœ‹æ›´æ”¹
2. è¿è¡Œ `git diff` åˆ†æå…·ä½“ä¿®æ”¹
3. æ ¹æ®æ›´æ”¹å†…å®¹ç”Ÿæˆåˆé€‚çš„æäº¤ä¿¡æ¯
4. æ‰§è¡Œ `git add` å’Œ `git commit`

### æäº¤æµç¨‹

```bash
ç”¨æˆ·: æäº¤è¿™äº›æ›´æ”¹

ClaudeCode:
[åˆ†æ git status]
å‘ç°æ›´æ”¹ï¼š
- ä¿®æ”¹: src/auth/login.js
- æ–°å¢: src/auth/logout.js
- åˆ é™¤: src/deprecated/old-auth.js

[åˆ†æ git diff]
ä¸»è¦æ›´æ”¹ï¼š
- æ”¹è¿›ç™»å½•é€»è¾‘ï¼Œæ·»åŠ è®°ä½æˆ‘åŠŸèƒ½
- æ–°å¢ç™»å‡ºåŠŸèƒ½
- ç§»é™¤åºŸå¼ƒçš„è®¤è¯ä»£ç 

[ç”Ÿæˆæäº¤ä¿¡æ¯]
æäº¤ç±»å‹ï¼šfeat (æ–°åŠŸèƒ½) + refactor (é‡æ„)

[æ‰§è¡Œæäº¤]
git add src/auth/login.js src/auth/logout.js src/deprecated/old-auth.js
git commit -m "feat: æ”¹è¿›ç”¨æˆ·è®¤è¯ç³»ç»Ÿ

- æ·»åŠ ç™»å½•'è®°ä½æˆ‘'åŠŸèƒ½
- å®ç°ç™»å‡ºåŠŸèƒ½
- ç§»é™¤åºŸå¼ƒçš„è®¤è¯ä»£ç 

ğŸ¤– Generated with Claude Code
Co-Authored-By: Claude Sonnet 4.5 <noreply@anthropic.com>"

[å®Œæˆ]
å·²åˆ›å»ºæäº¤ï¼šabc1234
```

## æäº¤ä¿¡æ¯è§„èŒƒ

ClaudeCode éµå¾ª Conventional Commits è§„èŒƒï¼š

### æäº¤ç±»å‹

- `feat`: æ–°åŠŸèƒ½
- `fix`: Bug ä¿®å¤
- `docs`: æ–‡æ¡£æ›´æ–°
- `style`: ä»£ç æ ¼å¼ï¼ˆä¸å½±å“åŠŸèƒ½ï¼‰
- `refactor`: é‡æ„
- `perf`: æ€§èƒ½ä¼˜åŒ–
- `test`: æµ‹è¯•ç›¸å…³
- `chore`: æ„å»º/å·¥å…·ç›¸å…³

### æäº¤æ ¼å¼

```
<type>: <subject>

<body>

ğŸ¤– Generated with Claude Code
Co-Authored-By: Claude Sonnet 4.5 <noreply@anthropic.com>
```

### ç¤ºä¾‹

```bash
feat: æ·»åŠ ç”¨æˆ·å¤´åƒä¸Šä¼ åŠŸèƒ½

- å®ç°å›¾ç‰‡ä¸Šä¼ æ¥å£
- æ·»åŠ å›¾ç‰‡å‹ç¼©å’Œè£å‰ª
- æ›´æ–°ç”¨æˆ·ä¸ªäººèµ„æ–™é¡µé¢

ğŸ¤– Generated with Claude Code
Co-Authored-By: Claude Sonnet 4.5 <noreply@anthropic.com>
```

## åˆ†æ”¯ç®¡ç†

### åˆ›å»ºåˆ†æ”¯

```bash
> åˆ›å»ºä¸€ä¸ªæ–°çš„åŠŸèƒ½åˆ†æ”¯ feature/user-profile
```

ClaudeCode ä¼šï¼š
```bash
git checkout -b feature/user-profile
```

### åˆ‡æ¢åˆ†æ”¯

```bash
> åˆ‡æ¢åˆ° develop åˆ†æ”¯
```

```bash
git checkout develop
```

### åˆå¹¶åˆ†æ”¯

```bash
> å°† feature/login åˆå¹¶åˆ°å½“å‰åˆ†æ”¯
```

ClaudeCode ä¼šå¤„ç†åˆå¹¶å¹¶è§£å†³ç®€å•å†²çªã€‚

### åˆ†æ”¯ç­–ç•¥

å»ºè®®åœ¨é¡¹ç›® Memory ä¸­å®šä¹‰åˆ†æ”¯ç­–ç•¥ï¼š

```markdown
# Git åˆ†æ”¯ç­–ç•¥
- main: ç”Ÿäº§åˆ†æ”¯
- develop: å¼€å‘åˆ†æ”¯
- feature/*: åŠŸèƒ½åˆ†æ”¯
- fix/*: ä¿®å¤åˆ†æ”¯
- release/*: å‘å¸ƒåˆ†æ”¯

å·¥ä½œæµï¼š
1. ä» develop åˆ›å»º feature åˆ†æ”¯
2. å®ŒæˆåŠŸèƒ½ååˆå¹¶å› develop
3. å‘å¸ƒå‰ä» develop åˆ›å»º release åˆ†æ”¯
4. æµ‹è¯•é€šè¿‡ååˆå¹¶ release åˆ° main å’Œ develop
```

## åˆ›å»º Pull Request

### è‡ªåŠ¨åˆ›å»º PR

```bash
> åˆ›å»º Pull Request
```

ClaudeCode ä¼šï¼š
1. æŸ¥çœ‹å½“å‰åˆ†æ”¯å’Œæ›´æ”¹
2. åˆ†ææ‰€æœ‰æäº¤
3. ç”Ÿæˆ PR æ ‡é¢˜å’Œæè¿°
4. æ¨é€åˆ†æ”¯
5. åˆ›å»º PRï¼ˆå¦‚æœé…ç½®äº† GitHub CLIï¼‰

### PR æè¿°æ¨¡æ¿

```markdown
## æ‘˜è¦
[åŠŸèƒ½/ä¿®å¤çš„ç®€è¦æè¿°]

## æ›´æ”¹å†…å®¹
- [åˆ—å‡ºä¸»è¦æ›´æ”¹]
- [åˆ—å‡ºæ¬¡è¦æ›´æ”¹]

## æµ‹è¯•
- [ ] å•å…ƒæµ‹è¯•é€šè¿‡
- [ ] é›†æˆæµ‹è¯•é€šè¿‡
- [ ] æ‰‹åŠ¨æµ‹è¯•é€šè¿‡

## æˆªå›¾
[å¦‚æœæ˜¯ UI æ›´æ”¹ï¼Œæ·»åŠ æˆªå›¾]

## ç›¸å…³ Issue
Closes #123

ğŸ¤– Generated with Claude Code
```

## Git å·¥ä½œæµåœºæ™¯

### åœºæ™¯ 1ï¼šåŠŸèƒ½å¼€å‘å®Œæ•´æµç¨‹

```bash
# 1. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
> åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ feature/user-settings

# 2. å¼€å‘åŠŸèƒ½
> å®ç°ç”¨æˆ·è®¾ç½®é¡µé¢

[ClaudeCode å®ç°åŠŸèƒ½]

# 3. æŸ¥çœ‹æ›´æ”¹
> æŸ¥çœ‹æˆ‘åšäº†å“ªäº›æ›´æ”¹

# 4. æäº¤æ›´æ”¹
> æäº¤è¿™äº›æ›´æ”¹

[ClaudeCode è‡ªåŠ¨ç”Ÿæˆæäº¤ä¿¡æ¯å¹¶æäº¤]

# 5. åˆ›å»º PR
> åˆ›å»º Pull Request

[ClaudeCode ç”Ÿæˆ PR æè¿°å¹¶åˆ›å»º]
```

### åœºæ™¯ 2ï¼šBug ä¿®å¤æµç¨‹

```bash
# 1. åˆ›å»ºä¿®å¤åˆ†æ”¯
> åˆ›å»ºä¿®å¤åˆ†æ”¯ fix/login-error

# 2. åˆ†æé—®é¢˜
> åˆ†æç™»å½•å¤±è´¥çš„åŸå› 

[ClaudeCode è°ƒæŸ¥ä»£ç ]

# 3. ä¿®å¤é—®é¢˜
> ä¿®å¤ç™»å½•é”™è¯¯

[ClaudeCode ä¿®å¤ä»£ç ]

# 4. éªŒè¯ä¿®å¤
> æµ‹è¯•ç™»å½•åŠŸèƒ½

# 5. æäº¤
> æäº¤ä¿®å¤

[ClaudeCode æäº¤ï¼Œtype: fix]

# 6. åˆ›å»º PR
> åˆ›å»º Pull Request
```

### åœºæ™¯ 3ï¼šä»£ç å®¡æŸ¥

```bash
# 1. æŸ¥çœ‹ PR çš„æ›´æ”¹
> æŸ¥çœ‹ PR #123 çš„æ›´æ”¹

# 2. è¯¦ç»†å®¡æŸ¥
> å®¡æŸ¥è¿™ä¸ª PR çš„ä»£ç è´¨é‡

[ClaudeCode åˆ†æä»£ç ]

# 3. æå‡ºå»ºè®®
[ClaudeCode æä¾›æ”¹è¿›å»ºè®®]

# 4. æ‰¹å‡†æˆ–è¯·æ±‚æ›´æ”¹
> åœ¨ PR ä¸Šæ·»åŠ å®¡æŸ¥æ„è§
```

### åœºæ™¯ 4ï¼šç‰ˆæœ¬å‘å¸ƒ

```bash
# 1. åˆ›å»ºå‘å¸ƒåˆ†æ”¯
> åˆ›å»ºå‘å¸ƒåˆ†æ”¯ release/v2.0.0

# 2. æ›´æ–°ç‰ˆæœ¬å·
> æ›´æ–°ç‰ˆæœ¬å·åˆ° 2.0.0

[ClaudeCode æ›´æ–° package.json ç­‰æ–‡ä»¶]

# 3. ç”Ÿæˆå˜æ›´æ—¥å¿—
> ç”Ÿæˆ v2.0.0 çš„å˜æ›´æ—¥å¿—

[ClaudeCode åˆ†ææäº¤å†å²ç”Ÿæˆ CHANGELOG]

# 4. æäº¤ç‰ˆæœ¬æ›´æ–°
> æäº¤ç‰ˆæœ¬æ›´æ–°

# 5. åˆå¹¶åˆ° main
> åˆå¹¶åˆ° main åˆ†æ”¯å¹¶æ‰“æ ‡ç­¾

[ClaudeCode åˆå¹¶å¹¶åˆ›å»º tag]
```

## é«˜çº§ Git æ“ä½œ

### Rebase

```bash
> å°†å½“å‰åˆ†æ”¯ rebase åˆ° develop
```

ClaudeCode ä¼šå¤„ç† rebase æ“ä½œã€‚

::: warning æ³¨æ„
äº¤äº’å¼ rebase (`git rebase -i`) ä¸æ”¯æŒï¼Œå› ä¸ºéœ€è¦ç”¨æˆ·äº¤äº’ã€‚
:::

### Cherry-pick

```bash
> Cherry-pick æäº¤ abc1234 åˆ°å½“å‰åˆ†æ”¯
```

```bash
git cherry-pick abc1234
```

### Stash

```bash
# æš‚å­˜æ›´æ”¹
> æš‚å­˜å½“å‰æ›´æ”¹

git stash

# æ¢å¤æ›´æ”¹
> æ¢å¤æš‚å­˜çš„æ›´æ”¹

git stash pop
```

### Reset

```bash
# è½¯é‡ç½®ï¼ˆä¿ç•™æ›´æ”¹ï¼‰
> é‡ç½®åˆ°ä¸Šä¸€ä¸ªæäº¤ï¼Œä¿ç•™æ›´æ”¹

git reset --soft HEAD~1

# ç¡¬é‡ç½®ï¼ˆä¸¢å¼ƒæ›´æ”¹ï¼‰
> ç¡¬é‡ç½®åˆ° abc1234

git reset --hard abc1234
```

::: danger å±é™©æ“ä½œ
ç¡¬é‡ç½®ä¼šä¸¢å¤±æ›´æ”¹ï¼Œä½¿ç”¨å‰ç¡®ä¿é‡è¦ä»£ç å·²å¤‡ä»½ã€‚
:::

## Git Hooks é›†æˆ

### Pre-commit Hook

åˆ›å»º `.git/hooks/pre-commit`ï¼š

```bash
#!/bin/sh
# è¿è¡Œ lint
npm run lint

# è¿è¡Œæµ‹è¯•
npm test
```

ClaudeCode åœ¨æäº¤å‰ä¼šè§¦å‘è¿™äº›æ£€æŸ¥ã€‚

### è‡ªåŠ¨ä¿®å¤

å¦‚æœ pre-commit hook å¤±è´¥ï¼š

```bash
> æäº¤æ›´æ”¹

[pre-commit hook å¤±è´¥]
Claude: æ£€æµ‹åˆ° lint é”™è¯¯ï¼Œæ˜¯å¦è‡ªåŠ¨ä¿®å¤ï¼Ÿ

> æ˜¯

[ClaudeCode è¿è¡Œ lint --fix]
[é‡æ–°æäº¤]
```

## å†²çªè§£å†³

### è‡ªåŠ¨è§£å†³å†²çª

```bash
> åˆå¹¶ feature/login åˆ†æ”¯

[æ£€æµ‹åˆ°å†²çª]
Claude: å‘ç°åˆå¹¶å†²çªï¼š
- src/auth/index.js

æ­£åœ¨åˆ†æå†²çª...

[ClaudeCode åˆ†æå†²çª]
å†²çªåŸå› ï¼šä¸¤ä¸ªåˆ†æ”¯éƒ½ä¿®æ”¹äº†è®¤è¯é€»è¾‘

å»ºè®®è§£å†³æ–¹æ¡ˆï¼š
[æ˜¾ç¤ºå»ºè®®]

æ˜¯å¦åº”ç”¨æ­¤è§£å†³æ–¹æ¡ˆï¼Ÿ

> æ˜¯

[ClaudeCode è§£å†³å†²çª]
[å®Œæˆåˆå¹¶]
```

### æ‰‹åŠ¨æŒ‡å¯¼

å¯¹äºå¤æ‚å†²çªï¼š

```bash
Claude: å†²çªè¾ƒå¤æ‚ï¼Œéœ€è¦äººå·¥å†³ç­–

å†²çªæ–‡ä»¶ï¼šsrc/auth/index.js
<<<<<<< HEAD
[å½“å‰åˆ†æ”¯çš„ä»£ç ]
=======
[è¦åˆå¹¶åˆ†æ”¯çš„ä»£ç ]
>>>>>>> feature/login

è¯·è¯´æ˜åº”è¯¥ä¿ç•™å“ªéƒ¨åˆ†ï¼Œæˆ–å¦‚ä½•åˆå¹¶ã€‚

ç”¨æˆ·: ä¿ç•™ä¸¤éƒ¨åˆ†ï¼ŒæŒ‰å…ˆåé¡ºåºæ’åˆ—

[ClaudeCode æ‰§è¡Œ]
```

## Git é…ç½®

### è®¾ç½®ç”¨æˆ·ä¿¡æ¯

åœ¨é¡¹ç›® Memory ä¸­è®°å½•ï¼š

```markdown
# Git é…ç½®
- ç”¨æˆ·åï¼šZhang San
- é‚®ç®±ï¼šzhangsan@example.com
- é»˜è®¤åˆ†æ”¯ï¼šmain
- æäº¤ä¿¡æ¯è¯­è¨€ï¼šä¸­æ–‡
```

### é…ç½® Git åˆ«å

```markdown
# Git åˆ«å
ä½¿ç”¨ä»¥ä¸‹ Git åˆ«åï¼š
- `git st` = git status
- `git co` = git checkout
- `git br` = git branch
- `git last` = git log -1 HEAD
```

## æœ€ä½³å®è·µ

::: tip Git ä½¿ç”¨å»ºè®®

1. **é¢‘ç¹æäº¤**ï¼šå°æ­¥æäº¤ï¼Œæ˜“äºå›æº¯
2. **æ¸…æ™°çš„æäº¤ä¿¡æ¯**ï¼šæè¿°"åšäº†ä»€ä¹ˆ"å’Œ"ä¸ºä»€ä¹ˆ"
3. **ä½¿ç”¨åˆ†æ”¯**ï¼šåŠŸèƒ½å¼€å‘ä½¿ç”¨ç‹¬ç«‹åˆ†æ”¯
4. **å®šæœŸåŒæ­¥**ï¼šç»å¸¸ä»ä¸»åˆ†æ”¯æ‹‰å–æ›´æ–°
5. **ä»£ç å®¡æŸ¥**ï¼šé‡è¦æ›´æ”¹é€šè¿‡ PR å®¡æŸ¥
6. **ä¿æŠ¤ä¸»åˆ†æ”¯**ï¼šä¸»åˆ†æ”¯ç¦æ­¢ç›´æ¥æ¨é€

:::

::: warning æ³¨æ„äº‹é¡¹

- ä¸è¦æäº¤æ•æ„Ÿä¿¡æ¯ï¼ˆå¯†ç ã€å¯†é’¥ï¼‰
- æäº¤å‰æ£€æŸ¥ .gitignore
- å¤§æ–‡ä»¶ä¸è¦æäº¤åˆ° Git
- å®šæœŸæ¸…ç†æ— ç”¨åˆ†æ”¯

:::

## è‡ªå®šä¹‰ Git å‘½ä»¤

åˆ›å»º `.claude/commands/git-flow.md`ï¼š

```markdown
æ‰§è¡Œå®Œæ•´çš„ Git å·¥ä½œæµï¼š

1. æŸ¥çœ‹å½“å‰çŠ¶æ€
2. åˆ†ææ‰€æœ‰æ›´æ”¹
3. è¿è¡Œæµ‹è¯•ç¡®ä¿é€šè¿‡
4. ç”Ÿæˆè§„èŒƒçš„æäº¤ä¿¡æ¯
5. æ‰§è¡Œæäº¤
6. è¯¢é—®æ˜¯å¦æ¨é€åˆ°è¿œç¨‹

æŒ‰æ­¥éª¤æ‰§è¡Œï¼Œæ¯æ­¥å®Œæˆåç¡®è®¤ã€‚
```

ä½¿ç”¨ï¼š

```bash
> /git-flow
```

## å¸¸è§é—®é¢˜

### Q: ClaudeCode èƒ½è‡ªåŠ¨æ¨é€å—ï¼Ÿ

**A:** å¯ä»¥ï¼Œä½†é»˜è®¤ä¸ä¼šã€‚ä½ éœ€è¦æ˜ç¡®è¦æ±‚ï¼š

```bash
> æäº¤å¹¶æ¨é€
```

### Q: å¦‚ä½•æ’¤é”€æœ€åä¸€æ¬¡æäº¤ï¼Ÿ

**A:**

```bash
> æ’¤é”€ä¸Šä¸€æ¬¡æäº¤ä½†ä¿ç•™æ›´æ”¹
# æ‰§è¡Œ: git reset --soft HEAD~1
```

### Q: å¯ä»¥ä¿®æ”¹æäº¤ä¿¡æ¯å—ï¼Ÿ

**A:**

```bash
> ä¿®æ”¹æœ€åä¸€æ¬¡æäº¤çš„æäº¤ä¿¡æ¯
# æ‰§è¡Œ: git commit --amend
```

### Q: å¦‚ä½•æŸ¥çœ‹æŸä¸ªæ–‡ä»¶çš„å†å²ï¼Ÿ

**A:**

```bash
> æŸ¥çœ‹ src/auth/login.js çš„ä¿®æ”¹å†å²
# æ‰§è¡Œ: git log --follow src/auth/login.js
```

## ä¸‹ä¸€æ­¥

- [éœ€æ±‚é©±åŠ¨å¼€å‘](/advanced/requirement-driven) - é¡¹ç›®ç®¡ç†å·¥ä½œæµ
- [è‡ªå®šä¹‰å‘½ä»¤](/advanced/custom-commands) - åˆ›å»º Git è‡ªå®šä¹‰å‘½ä»¤
- [SubAgent è¯¦è§£](/advanced/subagent) - ä½¿ç”¨ Agent å¤„ç† Git ä»»åŠ¡
